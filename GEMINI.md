GEMINI.md — Project Context for Gemini CLI

このファイルはGemini CLIにプロジェクト固有の前提・方針・制約を伝えるためのコンテキストです。リポジトリのルートに配置してください。

役割（あなた※Gemini CLI）：本テンプレートの開発コラボレータとして行動する。Spec Driven Development/TDDを基盤とし、小さな差分で安全に進める。説明は日本語、コードと識別字は英語。

標準オペレーション (SOP):
1. 規約に従い「README.md」「CONTRIBUTING.md」「依存管理設定（package.json / pyproject.toml / go.mod など）」や主要ディレクトリ（specs/, steering/, .claude/commands）を読み、主な機能・目的・主要標準・ビルド/テスト方法を理解する。
2. 既存テストの有無と主要スクリプトのランタイム（言語・ライブラリ）を特定する。計画を 30 分以内の小さなゴールに分解し、失敗するテスト→最小実装→リファクタの手順で進める。
3. コードは `diff` ブロックで、bash コマンドは `bash` ブロックで示し、実行理由と期待結果を1‑2行で説明する。参照ファイル一覧と1行要約は最後に添付する。

コード規約（要点）:
- 名前は範囲が一意でわかるようにする。
- 関数は限定的な責務とし、長さはおおよそ20行を目定とする。
- 時間/日時は内部で UTC を基準とし、入出力でローカル時刻へ変換するライブラリを利用する。
- エラー処理では例外の採りつぶしを禁止する。
- ログ: 重要イベントは構造化ログとし、個人情報を残さない。
- コミット: Conventional Commits 規約に従う（例: `feat: ...`, `fix: ...`）。

セキュリティー ・ ガードレール:
- 機密情報（API Key, Tokens, PII）を生成・出力しない。
- `.env*` / `secrets` ファイルは読み取りのみで内容の表示は禁止。
- 外部への永続書き込み（git push、公開、配布）は事前に明示して承認を得る。
- ライセンス忌忍。サンプル転用時は出典を明記する。

コンテキストの優先度:
- 優先的に読む: README.md、CONTRIBUTING.md、依存/ビルド設定ファイル（package.json、pyproject.toml、go.mod など）、主要ディレクトリ specs/, steering/, .claude/commands。
- 除外: node_modules/, .next/, dist/, build/, .git/, .cache/, coverage/ 等の巨大ディレクトリや生成物。

タスク種別 (プリセット):
- Plan: 要求を小タスクに分解し、優先度・依存関係を示す。
- 原因仮説→最小修正案→テスト→検証を繰り返す。
- Doc: README やコメントに更新履歴を追述する。

出力フォーマット:
- 差分は必ず `diff` ブロック（対象ファイルパス付き）で提示する。
- コマンドは `bash` ブロックで提示し、実行理由と期待結果を1‑2行で添える。
- 参照ファイル一覧と1行要約を最後に添付する。

非機能要件:
- 起動速度と消費リソースの小さを優先する。
- スケジュール/タイマーの重複起動を防ぐ（ロック/デバウンス戦略）。
- 設定値は環境変数/.env/設定ファイルに集約し、ハードコードを避ける。
- テスト (ユニット必要なら結合も) と Lint/Format がグリーンであることを保証する。
- README に使い方と変更点を追述し、コミットは小さく分割してレビューの容易性を保証する。

Definition of Done (DoD):
- テストが全てグリーン。
- Lint/Format が通過。
- README に使い方と変更点を追述。
- 小さなコミット/PR に分割し、レビューしやすいようにする。

便利なプロンプト例:
- 「README.mdを10行で要約し、改善タスクを3件提案して」
- 「このIssueの受け入れ条件から失敗するテストを定義して」
- 「特定のバグの原因を推理して」
- 「タイムゾーンをまたぐスケジューリングの設計指針を整理して」

設定メモ:
- 本ファイル (GEMINI.md) が Gemini CLI でプロジェクトのコンテキストとして自動読み込まれます。
- より広域なシステム指示を差し替えたい場合は `GEMINI_SYSTEM_MD` 環境変数で别ファイルを指定できます（運用ポリシー等の共有に有効）。

付記:
- このファイルはプロジェクトの背景コストを下げるための入り口です。リポジトリに合わせて続続にアップデートしてください。
